<script language="javascript">
  function micropostContentLen() {
    var content = $("#micropost_content").val();
    var length = content.length;
    $("#micropost_content_len").text(140 - length);
  }
</script>

<%= form_for(@micropost) do |f| %>
  <%= render partial: 'shared/error_messages', locals: { error_object: @micropost } %>
  <div class="form-group">
    <%= f.label :content, class: "sr-only" %>
    <%= f.text_area :content, rows: "3", class: "form-control", onkeydown: "micropostContentLen()" %>
  </div>
  <div class="form-group">
    <span id="micropost_content_len">140</span> <%= f.submit "Post", class: "btn btn-primary btn-lg" %>
  </div>
<% end %>
  